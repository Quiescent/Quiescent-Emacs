;;; early-init --- config to perform before main loading of emacs -*- mode: emacs-lisp; lexical-binding: t; -*-

;;; Commentary:

;;; Code:

(require 'package)

;; ===Package===
;; Loaded here because of overrides.
(setq package-archive-priorities '((org   . 3)
                                   (melpa . 2)
                                   (gnu   . 1)))
(setq package-archives
      (quote
       (("gnu"          . "http://elpa.gnu.org/packages/")
        ("org"          . "http://orgmode.org/elpa/")
        ("melpa"        . "http://melpa.org/packages/"))))

(package-initialize)

(add-to-list 'load-path "~/.emacs.d/conf")
(require 'system-vars)
(setq quiescent-starting-up t)

(when (file-exists-p "~/.emacs.d/conf/system-conf.el")
  (require 'system-conf))

(when (not (package-installed-p 'use-package))
  (package-install 'use-package))

(use-package key-chord
  :ensure t)

(use-package use-package-chords
  :ensure t)

(defvar quiescent-toggle-buffer-backwards t
  "Whether we should go forwards or backwards when we next toggle buffers.")

(defun quiescent-toggle-buffer ()
  "Toggle buffers switching to either the previous buffer or the next buffer."
  (interactive)
  (progn
    (if quiescent-toggle-buffer-backwards
        (switch-to-prev-buffer)
      (switch-to-next-buffer))
    (setq quiescent-toggle-buffer-backwards
          (not quiescent-toggle-buffer-backwards))))

(global-set-key (kbd "s-b") #'quiescent-toggle-buffer)
(global-set-key (kbd "s-z") #'isearchb-activate)
(global-set-key (kbd "s-n") #'switch-to-next-buffer)
(global-set-key (kbd "s-p") #'switch-to-prev-buffer)

(provide 'early-init-file)
;;; early-init ends here
